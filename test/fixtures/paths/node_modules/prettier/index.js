// @ts-check

/** @import {format} from 'prettier' */

const prettierMock = require('../../../../../__mocks__/prettier')

module.exports = Object.assign({}, prettierMock, {format: mockMockFormat})

/**
 * @param {Parameters<typeof format>} args
 * @returns {ReturnType<typeof format>} Formatted code
 */
function mockMockFormat(...args) {
  try {
    return prettierMock.format(...args)
  } finally {
    global.__PRETTIER_ESLINT_TEST_STATE__.prettierPath = __filename
  }
}
